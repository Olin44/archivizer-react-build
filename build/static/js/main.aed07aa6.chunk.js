(this["webpackJsonparchivizer-react"]=this["webpackJsonparchivizer-react"]||[]).push([[0],{326:function(e,t,a){e.exports=a(618)},332:function(e,t,a){},618:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(16),l=a.n(i),r=a(40),o=a(6),c=a(7),u=a(28),d=a(10),h=a(11),m=a(25),g=(a(331),a(332),a(18)),f=a.n(g),p="http://localhost:8080/api/auth/",b=new(function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"login",value:function(e,t){return f.a.post(p+"login",{username:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(e,t,a){return f.a.post(p+"signup",{username:e,email:t,password:a})}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}()),v=a(159),E=a.n(v),C=a(94),y=a.n(C),S=a(160),k=a.n(S),O=function(e){if(!e)return s.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This field is required!")},D=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleLogin=n.handleLogin.bind(Object(u.a)(n)),n.onChangeUsername=n.onChangeUsername.bind(Object(u.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(u.a)(n)),n.state={username:"",password:"",loading:!1,message:""},n}return Object(c.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",loading:!0}),this.form.validateAll(),0===this.checkBtn.context._errors.length?b.login(this.state.username,this.state.password).then((function(){b.getCurrentUser().roles.includes("ROLE_USER")?(t.props.history.push("/"),window.location.reload()):t.props.history.push("/newUser")}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({loading:!1,message:a})})):this.setState({loading:!1})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"card card-container"},s.a.createElement("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),s.a.createElement(E.a,{onSubmit:this.handleLogin,ref:function(t){e.form=t}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"username"},"Username"),s.a.createElement(y.a,{type:"text",className:"form-control",name:"username",value:this.state.username,onChange:this.onChangeUsername,validations:[O]})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"password"},"Password"),s.a.createElement(y.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[O]})),s.a.createElement("div",{className:"form-group"},s.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.state.loading},this.state.loading&&s.a.createElement("span",{className:"spinner-border spinner-border-sm"}),s.a.createElement("span",null,"Login"))),this.state.message&&s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.state.message)),s.a.createElement(k.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}}))))}}]),a}(n.Component),w=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("header",{className:"jumbotron"},s.a.createElement("h3",null,"Je\u015bli widzisz t\u0119 stron\u0119 administrator nie zaakceptowa\u0142 twojego konta. ",s.a.createElement("br",null),"Poczekaj na akceptacj\u0119 administratora i spr\xf3buj zalogowa\u0107 si\u0119 ponownie.")))}}]),a}(n.Component),j=a(290),A=function(e){if(!e)return s.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This field is required!")},N=function(e){if(!Object(j.isEmail)(e))return s.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This is not a valid email.")},P=function(e){if(e.length<3||e.length>20)return s.a.createElement("div",{className:"alert alert-danger",role:"alert"},"The username must be between 3 and 20 characters.")},R=function(e){if(e.length<6||e.length>40)return s.a.createElement("div",{className:"alert alert-danger",role:"alert"},"The password must be between 6 and 40 characters.")},U=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleRegister=n.handleRegister.bind(Object(u.a)(n)),n.onChangeUsername=n.onChangeUsername.bind(Object(u.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(u.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(u.a)(n)),n.state={username:"",email:"",password:"",successful:!1,message:""},n}return Object(c.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleRegister",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",successful:!1}),this.form.validateAll(),0===this.checkBtn.context._errors.length&&b.register(this.state.username,this.state.email,this.state.password).then((function(e){t.setState({message:e.data.message,successful:!0})}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({successful:!1,message:a})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"card card-container"},s.a.createElement("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),s.a.createElement(E.a,{onSubmit:this.handleRegister,ref:function(t){e.form=t}},!this.state.successful&&s.a.createElement("div",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"username"},"Username"),s.a.createElement(y.a,{type:"text",className:"form-control",name:"username",value:this.state.username,onChange:this.onChangeUsername,validations:[A,P]})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"email"},"Email"),s.a.createElement(y.a,{type:"text",className:"form-control",name:"email",value:this.state.email,onChange:this.onChangeEmail,validations:[A,N]})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"password"},"Password"),s.a.createElement(y.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[A,R]})),s.a.createElement("div",{className:"form-group"},s.a.createElement("button",{className:"btn btn-primary btn-block"},"Sign Up"))),this.state.message&&s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:this.state.successful?"alert alert-success":"alert alert-danger",role:"alert"},this.state.message)),s.a.createElement(k.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}}))))}}]),a}(n.Component);function B(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{Authorization:"Bearer "+e.accessToken}:{}}var x="http://localhost:8080/api/test/",L=new(function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"getPublicContent",value:function(){return f.a.get(x+"all")}},{key:"getUserBoard",value:function(){return f.a.get(x+"user",{headers:B()})}},{key:"getModeratorBoard",value:function(){return f.a.get(x+"mod",{headers:B()})}},{key:"getAdminBoard",value:function(){return f.a.get(x+"admin",{headers:B()})}},{key:"deleteById",value:function(e){return f.a.delete("http://localhost:8080/api/user/"+e,{headers:B()})}},{key:"updateUser",value:function(e,t){return f.a.post("http://localhost:8080/api/user/"+e,t,{headers:B()})}}]),e}()),q=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={content:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;L.getPublicContent().then((function(t){e.setState({content:t.data})}),(function(t){e.setState({content:t.response&&t.response.data||t.message||t.toString()})}))}},{key:"render",value:function(){return s.a.createElement("main",{role:"main",className:"text-center col-xs-12"},s.a.createElement("h1",{className:"cover-heading"},"Archivizer"),s.a.createElement("p",{className:"lead"},s.a.createElement("h2",null,"Data archiving system for small and medium-sized companies.")))}}]),a}(n.Component),I=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={redirect:null,userReady:!1,currentUser:{username:""}},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=b.getCurrentUser();e||this.setState({redirect:"/home"}),this.setState({currentUser:e,userReady:!0})}},{key:"render",value:function(){if(this.state.redirect)return s.a.createElement(m.a,{to:this.state.redirect});var e=this.state.currentUser;return s.a.createElement("div",{className:"container"},this.state.userReady?s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h4",null,"User profile"),s.a.createElement("hr",null))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("form",null,s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{htmlFor:"username",className:"col-4 col-form-label"},"Login:"),s.a.createElement("div",{className:"col-8"},s.a.createElement("input",{id:"username",name:"username",placeholder:e.login,className:"form-control here",required:"required",type:"text"}))),s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{htmlFor:"name",className:"col-4 col-form-label"},"First Name"),s.a.createElement("div",{className:"col-8"},s.a.createElement("input",{id:"name",name:"name",placeholder:"First Name",className:"form-control here",type:"text"}))),s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{htmlFor:"lastname",className:"col-4 col-form-label"},"Last Name"),s.a.createElement("div",{className:"col-8"},s.a.createElement("input",{id:"lastname",name:"lastname",placeholder:"Last Name",className:"form-control here",type:"text"}))),s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{htmlFor:"text",className:"col-4 col-form-label"},"Nick Name*"),s.a.createElement("div",{className:"col-8"},s.a.createElement("input",{id:"text",name:"text",placeholder:"Nick Name",className:"form-control here",required:"required",type:"text"}))),s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{htmlFor:"select",className:"col-4 col-form-label"},"Display Name public as"),s.a.createElement("div",{className:"col-8"},s.a.createElement("select",{id:"select",name:"select",className:"custom-select"},s.a.createElement("option",{value:"admin"},"Admin")))),s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{htmlFor:"email",className:"col-4 col-form-label"},"Email*"),s.a.createElement("div",{className:"col-8"},s.a.createElement("input",{id:"email",name:"email",placeholder:"Email",className:"form-control here",required:"required",type:"text"}))),s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{htmlFor:"website",className:"col-4 col-form-label"},"Website"),s.a.createElement("div",{className:"col-8"},s.a.createElement("input",{id:"website",name:"website",placeholder:"website",className:"form-control here",type:"text"}))),s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{htmlFor:"publicinfo",className:"col-4 col-form-label"},"Public Info"),s.a.createElement("div",{className:"col-8"},s.a.createElement("textarea",{id:"publicinfo",name:"publicinfo",cols:"40",rows:"4",className:"form-control"}))),s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{htmlFor:"newpass",className:"col-4 col-form-label"},"New Password"),s.a.createElement("div",{className:"col-8"},s.a.createElement("input",{id:"newpass",name:"newpass",placeholder:"New Password",className:"form-control here",type:"text"}))),s.a.createElement("div",{className:"form-group row"},s.a.createElement("div",{className:"offset-4 col-8"},s.a.createElement("button",{name:"submit",type:"submit",className:"btn btn-primary"},"Update My Profile")))))))):null)}}]),a}(n.Component),F=a(12),z=a(59),_=a(3),V=a(666),M=a(13),W=a(673),T=a(674),Q=a(665),H=a(672),J=a(662),Y=a(686),$=a(664),G=a(692),Z=a(667),K=a(309),X=a(671),ee=a(688),te=a(622),ae=a(668),ne=a(676),se=a(677),ie=a(293),le=a.n(ie),re=new(function(){function e(){Object(o.a)(this,e),this.USER_SERVICE_URL="http://localhost:8080/api/users",this.config={headers:B()}}return Object(c.a)(e,[{key:"getUsers",value:function(e,t){return f.a.get(this.USER_SERVICE_URL+"?pageNo="+e+"&pageSize="+t,this.config)}},{key:"activateUsersAccounts",value:function(e){return console.log(e),f.a.post(this.USER_SERVICE_URL+"/activateAccounts",{list_of_id_to_activate:e},this.config)}},{key:"getUsersListCount",value:function(){return f.a.get(this.USER_SERVICE_URL+"/count",this.config)}},{key:"getUsersDetails",value:function(e){return f.a.get(this.USER_SERVICE_URL+"/"+e+"/details",this.config)}},{key:"getUsersWithoutPagination",value:function(){return f.a.get("http://localhost:8080/api/usersWithoutPagination",this.config)}}]),e}()),oe=a(669),ce=a(670),ue=a(675),de=a(292),he=a.n(de),me=a(60),ge=a.n(me);function fe(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var pe=[{id:"login",numeric:!1,disablePadding:!0,label:"Login"},{id:"email",numeric:!1,disablePadding:!1,label:"email"},{id:"isActive",numeric:!1,disablePadding:!1,label:"isActive"}];function be(e){e.classes;var t=e.onSelectAllClick,a=e.order,n=e.orderBy,i=e.numSelected,l=e.rowCount,r=e.onRequestSort;return s.a.createElement(J.a,null,s.a.createElement($.a,null,s.a.createElement(Q.a,{padding:"checkbox"},s.a.createElement(ee.a,{indeterminate:i>0&&i<l,checked:l>0&&i===l,onChange:t,inputProps:{"aria-label":"select all desserts"}})),(console.log(b.getCurrentUser().roles),b.getCurrentUser().roles.includes("ROLE_ADMIN")?pe.slice().concat([{id:"action_update",numeric:!1,disablePadding:!0,label:"Update"},{id:"action_delete",numeric:!1,disablePadding:!0,label:"Delete"}]):pe).map((function(e){return s.a.createElement(Q.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a},s.a.createElement(G.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(t=e.id,function(e){r(e,t)})},e.label));var t}))))}var ve=Object(V.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(M.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Ee=function(e){var t=ve(),a=e.numSelected,n=e.selectedList;return s.a.createElement(Z.a,{className:Object(_.a)(t.root,Object(z.a)({},t.highlight,a>0))},a>0?s.a.createElement(K.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div"},a," selected"):s.a.createElement(K.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div"},"Users"),a>0?s.a.createElement(ae.a,{title:"Activate selected users accounts"},s.a.createElement(te.a,{"aria-label":"activate selected accounts",onClick:function(e){return console.log(n),console.log(a),void re.activateUsersAccounts(n).then(window.location.reload(!0))}},s.a.createElement(he.a,null))):s.a.createElement(ae.a,{title:"Filter list"},s.a.createElement(te.a,{"aria-label":"filter list"},s.a.createElement(le.a,null))))},Ce=Object(V.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),ye=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).setRows=function(e){var t=Object(F.a)(Object(F.a)({},n.state),{},{rows:e});n.setState({copyFoo:t})},n.setCount=function(e){var t=Object(F.a)(Object(F.a)({},n.state),{},{size:e});n.setState({copyFoo:t})},n.handleRequestSort=function(e,t){var a=n.state.orderBy===t&&"asc"===n.state.order;n.setState({order:a?"desc":"asc"}),n.setState({orderBy:t})},n.handleSelectAllClick=function(e){e.target.checked?n.setState({selected:n.state.rows.map((function(e){return e.name}))}):n.setState({selected:[]})},n.handleClick=function(e,t){var a=n.state.selected.indexOf(t),s=[];-1===a?s=s.concat(n.state.selected,t):0===a?s=s.concat(n.state.selected.slice(1)):a===n.state.selected.length-1?s=s.concat(n.state.selected.slice(0,-1)):a>0&&(s=s.concat(n.state.selected.slice(0,a),n.state.selected.slice(a+1))),console.log(s),n.setState({selected:s})},n.handleChangePage=function(e,t){n.fetchDataFromApi(t,n.state.rowsPerPage),n.setState({page:t})},n.handleChangeRowsPerPage=function(e){var t=parseInt(e.target.value,10);t>n.state.size&&(t=n.state.size,n.setState({page:0})),n.setState({rowsPerPage:t}),n.fetchDataFromApi(0,t)},n.handleChangeDense=function(e){n.setState({dense:e.target.checked})},n.isSelected=function(e){return-1!==n.state.selected.indexOf(e)},n.handleDelete=function(e,t){console.log(t),e.preventDefault(),L.deleteById(t).then((function(e){return alert("User deleted!")})).catch((function(e){if(e.response){var t="";console.log(e.response.data.violations.length);for(var a=0;a<e.response.data.violations.length;a++)t=t.concat("File id: "+e.response.data.violations[a].id).concat(", ").concat("File title: "+e.response.data.violations[a].title).concat(".\n");alert(e.response.data.message.toString().concat(": Related files exist!")+"\n"+t)}}))},n.state={rows:[],order:"asc",orderBy:"id",selected:[],page:0,dense:!1,rowsPerPage:5,classes:Ce,size:0},n}return Object(c.a)(a,[{key:"fetchDataFromApi",value:function(e,t){var a=this;function n(e){for(var t,a,n,s,i,l=[],r=0;r<e.length;r++)a=e[r].id,n=e[r].login,s=e[r].email,i=e[r].active,t={id:a,login:n,email:s,isActive:i},l.push(t);return l}re.getUsers(e,t).then((function(e){return a.setState({rows:n(e.data)})}))}},{key:"fetchUsersCountFromAp",value:function(){var e=this;re.getUsersListCount().then((function(t){console.log(t.data.count),e.setState({size:t.data.count})}))}},{key:"componentDidMount",value:function(){this.fetchUsersCountFromAp(),this.fetchDataFromApi(this.state.page,this.state.rowsPerPage),console.log(this.state)}},{key:"formatYesNo",value:function(e){return e?s.a.createElement(oe.a,null):s.a.createElement(ce.a,null)}},{key:"render",value:function(){var e,t,a=this;return s.a.createElement("div",{className:this.state.classes.root},s.a.createElement(X.a,{className:this.state.classes.paper},s.a.createElement(Ee,{numSelected:this.state.selected.length,selectedList:this.state.selected}),s.a.createElement(H.a,null,s.a.createElement(W.a,{className:this.state.classes.table,"aria-labelledby":"tableTitle",size:this.state.dense?"small":"medium","aria-label":"enhanced table"},s.a.createElement(be,{classes:this.state.classes,numSelected:this.state.selected.length,order:this.state.order,orderBy:this.state.orderBy,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:this.state.rows.length}),s.a.createElement(T.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(this.state.rows,(e=this.state.order,t=this.state.orderBy,"desc"===e?function(e,a){return fe(e,a,t)}:function(e,a){return-fe(e,a,t)})).map((function(e,t){var n=a.isSelected(e.id),i="enhanced-table-checkbox-".concat(t);return s.a.createElement($.a,{hover:!0,onClick:function(t){return a.handleClick(t,e.id)},role:"checkbox","aria-checked":n,tabIndex:-1,key:e.id,selected:n},s.a.createElement(Q.a,{padding:"checkbox"},s.a.createElement(ee.a,{checked:n,inputProps:{"aria-labelledby":i}})),s.a.createElement(Q.a,{component:"th",id:i,scope:"row",padding:"none"},e.login),s.a.createElement(Q.a,{align:"left"},e.email),s.a.createElement(Q.a,{align:"left"},a.formatYesNo(e.isActive)),b.getCurrentUser().roles.includes("ROLE_ADMIN")?s.a.createElement(Q.a,{align:"left"}," ",s.a.createElement("a",{href:"/users/".concat(e.id)},s.a.createElement(ue.a,null))):null,b.getCurrentUser().roles.includes("ROLE_ADMIN")?s.a.createElement(Q.a,null,s.a.createElement(ge.a,{onClick:function(t){return a.handleDelete(t,e.id)}})):null)}))))),s.a.createElement(Y.a,{rowsPerPageOptions:[5,10,25,this.state.size].sort((function(e,t){return e-t})),component:"div",count:this.state.size,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})),s.a.createElement(ne.a,{control:s.a.createElement(se.a,{checked:this.state.dense,onChange:this.handleChangeDense}),label:"Dense padding"}))}}]),a}(n.Component),Se=a(39),ke=a.n(Se),Oe=a(61),De=new(function(){function e(){Object(o.a)(this,e),this.USER_SERVICE_URL="http://localhost:8080/api/",this.config={headers:B()}}return Object(c.a)(e,[{key:"getRoles",value:function(){return f.a.get(this.USER_SERVICE_URL+"roles",this.config)}}]),e}()),we=a(628),je=a(679),Ae=a(678),Ne=(Object(V.a)((function(e){return{root:{display:"flex"},formControl:{margin:e.spacing(3)}}})),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={roles:[],userRoles:e.userRoles},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.fetRolesFromApi()}},{key:"fetRolesFromApi",value:function(){var e=Object(Oe.a)(ke.a.mark((function e(){var t=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:De.getRoles().then((function(e){return t.setState({roles:e.data.roles})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this.state.userRoles.find((function(t){return t.name===e.target.name})),a=this.state.userRoles;void 0===t?(a.push(this.state.roles.find((function(t){return t.name===e.target.name}))),this.setState({userRoles:a})):(a.splice(a.indexOf(t),1),this.setState({userRoles:a}))}},{key:"render",value:function(){var e=this;return s.a.createElement(Ae.a,{container:!0,xs:12},s.a.createElement(we.a,{required:!0,component:"fieldset"},s.a.createElement(je.a,null,this.state.roles.map((function(t){return s.a.createElement(Ae.a,{item:!0,xs:4},s.a.createElement(ne.a,{control:s.a.createElement(ee.a,{checked:e.state.userRoles.findIndex((function(e){return e.name===t.name}))>-1,onChange:function(t){return e.handleChange(t)},name:t.name}),label:t.name}))})))))}}]),a}(n.Component)),Pe=a(298),Re=a.n(Pe),Ue=a(631),Be=a(626),xe=a(629),Le=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).sendBackData=function(e){n.props.parentCallback(e)},n.state={error:!1,errorMessage:"",data:""},n}return Object(c.a)(a,[{key:"handleChange",value:function(e){var t=this;this.sendBackData(e.target.value),console.log(e),this.props.validationSchema.validate(e.target.value).then(this.setState({error:!1,errorMessage:""})).catch((function(e){return t.setState({error:!0,errorMessage:e.errors})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(we.a,{margin:"normal",fullWidth:!0,variant:"outlined",required:this.props.required},s.a.createElement(Ae.a,{item:!0,xs:8},s.a.createElement(Ue.a,{htmlFor:this.props.name+"-input-label"},this.props.label),s.a.createElement(Be.a,{id:this.props.name+"-input",error:this.state.error,defaultValue:this.props.defaultValue,placeholder:this.props.defaultValue,onChange:function(t){e.handleChange(t)},variant:"outlined",disabled:this.props.disabled?"disabled":""}),this.state.error?s.a.createElement(xe.a,{id:this.props.name+"helper-text",error:this.state.error},this.state.errorMessage):null)))}}]),a}(n.Component),qe=a(20),Ie=a(683),Fe=a(684),ze=a(45),_e=a.n(ze),Ve=a(680),Me=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement(Ae.a,{item:!0,xs:8},s.a.createElement(Ve.a,{id:this.props.id,label:this.props.label,type:"datetime-local",defaultValue:this.props.defaultValue,disabled:this.props.disabled}))}}]),a}(n.Component),We=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).sendBackData=function(e){n.props.parentCallback(e)},n.state={error:!1,errorMessage:"",data:""},n}return Object(c.a)(a,[{key:"handleChange",value:function(e){var t=this;this.sendBackData(e.target.checked),this.props.validationSchema.validate(e.target.checked).then(this.setState({error:!1,errorMessage:""})).catch((function(e){return t.setState({error:!0,errorMessage:e.errors})}))}},{key:"render",value:function(){var e=this;return s.a.createElement(ne.a,{control:s.a.createElement(ee.a,{checked:this.props.checked,name:this.props.name,color:"primary",disabled:this.props.disabled,onClick:function(t){e.handleChange(t)}}),label:this.props.label})}}]),a}(n.Component),Te=a(690),Qe=a(681),He=a(297),Je=a.n(He),Ye=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement(Te.a,{"aria-label":"breadcrumb"},s.a.createElement(Qe.a,{color:"inherit",href:"/"},s.a.createElement(Je.a,null),"Archivizer"),this.props.subSites.map((function(e){return s.a.createElement(Qe.a,{color:"inherit",href:e.href},e.icon,e.name)})),s.a.createElement(K.a,{color:"textPrimary"},this.props.actualSiteIcon,this.props.actualSiteName))}}]),a}(n.Component),$e=a(682),Ge=a(44),Ze=a.n(Ge),Ke=(Re()((function(e){return{container:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gridGap:e.spacing(3)},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,whiteSpace:"nowrap",marginBottom:e.spacing(1)},divider:{margin:e.spacing(2,0)}}})),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).nameOnChange=function(e){var t=Object(F.a)(Object(F.a)({},n.state.usersDetails),{},{name:e});n.setState({usersDetails:t},(function(){console.log(this.state.usersDetails)}))},n.surnameOnChange=function(e){var t=Object(F.a)(Object(F.a)({},n.state.usersDetails),{},{surname:e});n.setState({usersDetails:t},(function(){console.log(this.state.usersDetails)}))},n.loginOnChange=function(e){var t=Object(F.a)(Object(F.a)({},n.state.usersDetails),{},{login:e});n.setState({usersDetails:t},(function(){console.log(this.state.usersDetails)}))},n.emailOnChange=function(e){var t=Object(F.a)(Object(F.a)({},n.state.usersDetails),{},{email:e});n.setState({usersDetails:t},(function(){console.log(this.state.usersDetails)}))},n.isActiveOnChange=function(e){var t=Object(F.a)(Object(F.a)({},n.state.usersDetails),{},{isActive:e});n.setState({usersDetails:t},(function(){console.log(this.state.usersDetails)}))},n.peselOnChange=function(e){var t=Object(F.a)(Object(F.a)({},n.state.usersDetails),{},{pesel:e});n.setState({usersDetails:t},(function(){console.log(this.state.usersDetails)}))},n.state={id:e.id,usersDetails:null,loaded:!1,roles:[],validationSchema:{login:qe.c().required(),name:qe.c().required(),surname:qe.c().required(),email:qe.c().email().required(),pesel:qe.c().matches(/^[0-9]+$/,"must be only digits").min(9,"must be exactly 9 digits").max(9,"must be exactly 9 digits")},floatingButtonStyle:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed"},subSites:[{href:"/users",name:"Users",icon:s.a.createElement($e.a,null)}]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.fetchUserDetailsDataFromApi()}},{key:"fetchUserDetailsDataFromApi",value:function(){var e=Object(Oe.a)(ke.a.mark((function e(){var t=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:re.getUsersDetails(this.props.id).then((function(e){console.log(e.data),t.setState({usersDetails:e.data,loaded:!0})}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleUpdateClick",value:function(e){e.preventDefault(),L.updateUser(this.state.usersDetails.id,this.state.usersDetails).then((function(e){return alert("User deleted!")})).catch((function(e){e.response&&(alert(e.response.data),console.log(e.response.data))}))}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.loaded?s.a.createElement("div",{style:{minHeight:"90vh"}},s.a.createElement(Ye,{subSites:this.state.subSites,actualSiteName:"Edit users details",actualSiteIcon:s.a.createElement(Ze.a,null)}),s.a.createElement(Ae.a,{alignItems:"center",container:!0,direction:"column",style:{backgroundColor:"#f2f2f2"}},s.a.createElement(Ae.a,{item:!0,xs:12,alignItems:"center"},s.a.createElement(K.a,{variant:"subtitle1",gutterBottom:!0,style:{color:"#266eb6"}},"User account information"),s.a.createElement(Ie.a,null),s.a.createElement(Le,{name:"login",label:"Login",required:!0,defaultValue:this.state.usersDetails.login,validationSchema:this.state.validationSchema.login,parentCallback:this.loginOnChange}),s.a.createElement(Le,{name:"email",label:"Email",required:!0,defaultValue:this.state.usersDetails.email,validationSchema:this.state.validationSchema.email,parentCallback:this.emailOnChange}),s.a.createElement(Ie.a,null),s.a.createElement(We,{name:"isActive",label:"Is active user?",checked:this.state.usersDetails.active,disabled:!0}),s.a.createElement(K.a,{variant:"subtitle1",gutterBottom:!0,style:{color:"#266eb6"}},"User personal information"),s.a.createElement(Ie.a,null),s.a.createElement(Le,{name:"name",label:"Name",required:!0,defaultValue:this.state.usersDetails.name,validationSchema:this.state.validationSchema.name,parentCallback:this.nameOnChange}),s.a.createElement(Le,{name:"surname",label:"Surname",required:!0,defaultValue:this.state.usersDetails.surname,validationSchema:this.state.validationSchema.surname,parentCallback:this.surnameOnChange}),s.a.createElement(Le,{name:"pesel",label:"Pesel",required:!0,defaultValue:this.state.usersDetails.pesel,validationSchema:this.state.validationSchema.pesel,parentCallback:this.peselOnChange}),s.a.createElement(K.a,{variant:"subtitle1",gutterBottom:!0,style:{color:"#266eb6"}},"User account metadata"),s.a.createElement(Me,{id:"creationDate",label:"Creation date",defaultValue:this.state.usersDetails.creationDate,disabled:!0}),s.a.createElement(Me,{id:"editDate",label:"Last edit date",defaultValue:this.state.usersDetails.editDate,disabled:!0}),s.a.createElement(Ie.a,null),s.a.createElement(K.a,{variant:"subtitle1",gutterBottom:!0,style:{color:"#266eb6"}},"User roles",s.a.createElement(Ie.a,null)),s.a.createElement(Ne,{userRoles:this.state.usersDetails.roles}))),s.a.createElement(Fe.a,{color:"secondary","aria-label":"edit",style:this.state.floatingButtonStyle,onClick:this.handleUpdateClick.bind(this)},s.a.createElement(_e.a,null))):null)}}]),a}(n.Component)),Xe=a(213),et=a.n(Xe),tt=(a(561),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){et()({dom_id:"#swaggerContainer",url:"http://localhost:8080/v2/api-docs",enableCORS:!0,presets:[Xe.presets.apis]})}},{key:"render",value:function(){return s.a.createElement("div",{id:"swaggerContainer"})}}]),a}(n.Component)),at=new(function(){function e(){Object(o.a)(this,e),this.SERVICE_URL="http://localhost:8080/api/languages",this.config={headers:B()}}return Object(c.a)(e,[{key:"getLanguages",value:function(e,t){return f.a.get(this.SERVICE_URL+"?pageNo="+e+"&pageSize="+t,this.config)}},{key:"getLanguagesListCount",value:function(){return f.a.get(this.SERVICE_URL+"/count",this.config)}},{key:"deleteLanguage",value:function(e){return f.a.delete("http://localhost:8080/api/language/"+e,this.config)}},{key:"getLanguagesWithoutPagination",value:function(){return f.a.get(this.SERVICE_URL+"/withoutPagination")}}]),e}()),nt=a(62),st=a.n(nt),it=function(){return s.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},s.a.createElement("h1",null,"404 - Not Found!"),s.a.createElement("br",null),s.a.createElement(r.b,{to:"/"},"Go Home"))};function lt(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var rt=[{id:"id",numeric:!1,disablePadding:!0,label:"Id"},{id:"code",numeric:!1,disablePadding:!1,label:"Code"},{id:"name",numeric:!1,disablePadding:!1,label:"Name"}];function ot(e){e.classes;var t=e.onSelectAllClick,a=e.order,n=e.orderBy,i=e.numSelected,l=e.rowCount,r=e.onRequestSort;return s.a.createElement(J.a,null,s.a.createElement($.a,null,s.a.createElement(Q.a,{padding:"checkbox"},s.a.createElement(ee.a,{indeterminate:i>0&&i<l,checked:l>0&&i===l,onChange:t,inputProps:{"aria-label":"select all desserts"}})),(console.log(b.getCurrentUser().roles),b.getCurrentUser().roles.includes("ROLE_ADMIN")?rt.slice().concat([{id:"action",numeric:!1,disablePadding:!0,label:"Create"},{id:"action",numeric:!1,disablePadding:!0,label:"Update"},{id:"action",numeric:!1,disablePadding:!0,label:"Delete"}]):rt).map((function(e){return s.a.createElement(Q.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a},s.a.createElement(G.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(t=e.id,function(e){r(e,t)})},e.label));var t}))))}var ct=Object(V.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(M.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),ut=function(e){var t=ct(),a=e.numSelected;e.selectedList;return s.a.createElement(Z.a,{className:Object(_.a)(t.root,Object(z.a)({},t.highlight,a>0))},a>0?s.a.createElement(K.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div"},a," selected"):s.a.createElement(K.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div"},"Languages"))},dt=Object(V.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),ht=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleRequestSort=function(e,t){var a=n.state.orderBy===t&&"asc"===n.state.order;n.setState({order:a?"desc":"asc"}),n.setState({orderBy:t})},n.handleSelectAllClick=function(e){e.target.checked?n.setState({selected:n.state.rows.map((function(e){return e.name}))}):n.setState({selected:[]})},n.handleClick=function(e,t){var a=n.state.selected.indexOf(t),s=[];-1===a?s=s.concat(n.state.selected,t):0===a?s=s.concat(n.state.selected.slice(1)):a===n.state.selected.length-1?s=s.concat(n.state.selected.slice(0,-1)):a>0&&(s=s.concat(n.state.selected.slice(0,a),n.state.selected.slice(a+1))),console.log(s),n.setState({selected:s})},n.handleChangePage=function(e,t){n.fetchDataFromApi(t,n.state.rowsPerPage),n.setState({page:t})},n.handleChangeRowsPerPage=function(e){var t=parseInt(e.target.value,10);t>n.state.size&&(t=n.state.size,n.setState({page:0})),n.setState({rowsPerPage:t}),n.fetchDataFromApi(0,t)},n.handleChangeDense=function(e){n.setState({dense:e.target.checked})},n.isSelected=function(e){return-1!==n.state.selected.indexOf(e)},n.handleDelete=function(e,t){console.log(t),e.preventDefault(),at.deleteLanguage(t).then((function(e){return alert("Language deleted!")})).catch((function(e){if(e.response){var t="";console.log(e.response.data.violations.length);for(var a=0;a<e.response.data.violations.length;a++)t=t.concat("File id: "+e.response.data.violations[a].id).concat(", ").concat("File title: "+e.response.data.violations[a].title).concat(".\n");alert(e.response.data.message.toString().concat(": Related files exist!")+"\n"+t)}}))},n.state={rows:[],order:"asc",orderBy:"id",selected:[],page:0,dense:!1,rowsPerPage:5,classes:dt,size:0,floatingButtonStyle:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed"}},n}return Object(c.a)(a,[{key:"fetchDataFromApi",value:function(e,t){var a=this;function n(e){for(var t,a,n,s,i=[],l=0;l<e.length;l++)a=e[l].id,n=e[l].code,s=e[l].name,t={id:a,code:n,name:s},i.push(t);return console.log(i),i}at.getLanguages(e,t).then((function(e){return a.setState({rows:n(e.data)})}))}},{key:"fetchLanguagesCountFromAp",value:function(){var e=this;at.getLanguagesListCount().then((function(t){console.log(t.data.count),e.setState({size:t.data.count})}))}},{key:"componentDidMount",value:function(){this.fetchLanguagesCountFromAp(),this.fetchDataFromApi(this.state.page,this.state.rowsPerPage)}},{key:"formatYesNo",value:function(e){return e?s.a.createElement(oe.a,null):s.a.createElement(ce.a,null)}},{key:"render",value:function(){var e,t,a=this;return s.a.createElement("div",null,b.getCurrentUser()?s.a.createElement("div",{className:this.state.classes.root},s.a.createElement(X.a,{className:this.state.classes.paper},s.a.createElement(ut,{numSelected:this.state.selected.length,selectedList:this.state.selected}),s.a.createElement(H.a,null,s.a.createElement(W.a,{className:this.state.classes.table,"aria-labelledby":"tableTitle",size:this.state.dense?"small":"medium","aria-label":"enhanced table"},s.a.createElement(ot,{classes:this.state.classes,numSelected:this.state.selected.length,order:this.state.order,orderBy:this.state.orderBy,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:this.state.rows.length,showAdminContent:this.props.showAdminContent}),s.a.createElement(T.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(this.state.rows,(e=this.state.order,t=this.state.orderBy,"desc"===e?function(e,a){return lt(e,a,t)}:function(e,a){return-lt(e,a,t)})).map((function(e,t){var n=a.isSelected(e.id),i="enhanced-table-checkbox-".concat(t);return s.a.createElement($.a,{hover:!0,onClick:function(t){return a.handleClick(t,e.id)},role:"checkbox","aria-checked":n,tabIndex:-1,key:e.id,selected:n},s.a.createElement(Q.a,{padding:"checkbox"},s.a.createElement(ee.a,{checked:n,inputProps:{"aria-labelledby":i}})),s.a.createElement(Q.a,{component:"th",id:i,scope:"row",padding:"none"},e.id),s.a.createElement(Q.a,{align:"left"},e.code),s.a.createElement(Q.a,{align:"left"},e.name),b.getCurrentUser().roles.includes("ROLE_ADMIN")?s.a.createElement(Q.a,{align:"left"}," ",s.a.createElement("a",{href:"/language/"},s.a.createElement(st.a,null))):null,b.getCurrentUser().roles.includes("ROLE_ADMIN")?s.a.createElement(Q.a,{align:"left"}," ",s.a.createElement("a",{href:"/languages/".concat(e.id)},s.a.createElement(ue.a,null))):null,b.getCurrentUser().roles.includes("ROLE_ADMIN")?s.a.createElement(Q.a,null,s.a.createElement(ge.a,{onClick:function(t){return a.handleDelete(t,e.id)}})):null)}))))),s.a.createElement(Y.a,{rowsPerPageOptions:[5,10,25,this.state.size].sort((function(e,t){return e-t})),component:"div",count:this.state.size,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})),s.a.createElement(ne.a,{control:s.a.createElement(se.a,{checked:this.state.dense,onChange:this.handleChangeDense}),label:"Dense padding"})):s.a.createElement(it,null),s.a.createElement("div",{onClick:function(){return console.log("speed A")},style:this.state.floatingButtonStyle},s.a.createElement(Fe.a,{color:"secondary","aria-label":"Create",style:this.state.floatingButtonStyle,onClick:this.createButtonAction.bind(this)},s.a.createElement(st.a,null))))}},{key:"createButtonAction",value:function(){var e=document.createElement("a");e.href="/language/",e.click()}}]),a}(n.Component),mt=new(function(){function e(){Object(o.a)(this,e),this.SERVICE_URL="http://localhost:8080/api/language/",this.config={headers:B()}}return Object(c.a)(e,[{key:"getLanguage",value:function(e){return f.a.get(this.SERVICE_URL+e,this.config)}},{key:"updateLanguage",value:function(e,t){return f.a.post(this.SERVICE_URL+e,t)}},{key:"create",value:function(e){return f.a.post(this.SERVICE_URL,e)}}]),e}()),gt=a(172),ft=a.n(gt),pt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).nameOnChange=function(e){var t=Object(F.a)(Object(F.a)({},n.state.usersDetails),{},{name:e});n.setState({usersDetails:t},(function(){console.log(this.state.usersDetails)}))},n.codeOnChange=function(e){var t=Object(F.a)(Object(F.a)({},n.state.usersDetails),{},{code:e});n.setState({usersDetails:t},(function(){console.log(this.state.usersDetails)}))},n.state={id:e.id,usersDetails:null,loaded:!1,roles:[],validationSchema:{name:qe.c().required(),code:qe.c().required().matches(/^[a-zA-Z]+$/,"must be only letters").min(3,"must be exactly 3 digits").max(3,"must be exactly 3 digits")},floatingButtonStyle:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed"},subSites:[{href:"/languages",name:"Languages",icon:s.a.createElement(ft.a,null)}]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.fetchObjectFromApi()}},{key:"fetchObjectFromApi",value:function(){var e=Object(Oe.a)(ke.a.mark((function e(){var t=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:mt.getLanguage(this.props.id).then((function(e){console.log(e.data),t.setState({usersDetails:e.data,loaded:!0})}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleUpdateClick",value:function(e){e.preventDefault();var t={code:this.state.usersDetails.code,name:this.state.usersDetails.name};mt.updateLanguage(this.state.usersDetails.id,t).then((function(e){return alert("User update!")})).catch((function(e){e.response&&(alert(e.response.data),console.log(e.response.data))}))}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.loaded?s.a.createElement("div",{style:{minHeight:"90vh"}},s.a.createElement(Ye,{subSites:this.state.subSites,actualSiteName:"Edit language details",actualSiteIcon:s.a.createElement(Ze.a,null)}),s.a.createElement(Ae.a,{alignItems:"center",container:!0,direction:"column",style:{backgroundColor:"#f2f2f2"}},s.a.createElement(Ae.a,{item:!0,xs:12,alignItems:"center"},s.a.createElement(K.a,{variant:"subtitle1",gutterBottom:!0,style:{color:"#266eb6"}},"Information about language"),s.a.createElement(Ie.a,null),s.a.createElement(Le,{name:"code",label:"Code",required:!0,defaultValue:this.state.usersDetails.code,validationSchema:this.state.validationSchema.code,parentCallback:this.codeOnChange}),s.a.createElement(Le,{name:"name",label:"Name",required:!0,defaultValue:this.state.usersDetails.name,validationSchema:this.state.validationSchema.name,parentCallback:this.nameOnChange}))),s.a.createElement("div",{onClick:function(){return console.log("speed A")},style:this.state.floatingButtonStyle},s.a.createElement(Fe.a,{color:"secondary","aria-label":"edit",style:this.state.floatingButtonStyle,onClick:this.handleUpdateClick.bind(this)},s.a.createElement(_e.a,null)))):null)}}]),a}(n.Component),bt=new(function(){function e(){Object(o.a)(this,e),this.SERVICE_URL="http://localhost:8080/api/qualifications",this.SERVICE_URL2="http://localhost:8080/api/qualification/",this.config={headers:B()}}return Object(c.a)(e,[{key:"getAllWithPagination",value:function(e,t){return f.a.get(this.SERVICE_URL+"?pageNo="+e+"&pageSize="+t,this.config)}},{key:"getCount",value:function(){return f.a.get(this.SERVICE_URL+"/count",this.config)}},{key:"deleteById",value:function(e){return f.a.delete(this.SERVICE_URL2+e,this.config)}},{key:"update",value:function(e,t){return f.a.post(this.SERVICE_URL2+e,t)}},{key:"get",value:function(e){return f.a.get(this.SERVICE_URL2+e)}},{key:"create",value:function(e){return f.a.post(this.SERVICE_URL2,e)}},{key:"getQualificationWithoutPagination",value:function(){return f.a.get(this.SERVICE_URL+"/withoutPagination")}}]),e}());function vt(e,t,a,n,s){console.log(e,t,a,n,s);var i=null;return i=null!=n?"Day: "+n.day+" Months: "+n.month+" Years: "+n.year:"Undefined",console.log(e,t,a,i,s),{id:e,type:t,description:a,archivizeAfterAsString:i,canBeDeleted:s}}function Et(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var Ct=[{id:"id",numeric:!1,disablePadding:!0,label:"Id"},{id:"type",numeric:!1,disablePadding:!1,label:"Code"},{id:"description",numeric:!1,disablePadding:!1,label:"Description"},{id:"archivizeAfter",numeric:!1,disablePadding:!1,label:"Archivize after"},{id:"canBeDeleted",numeric:!1,disablePadding:!1,label:"Can by deleted"}];function yt(e){e.classes;var t=e.onSelectAllClick,a=e.order,n=e.orderBy,i=e.numSelected,l=e.rowCount,r=e.onRequestSort;return s.a.createElement(J.a,null,s.a.createElement($.a,null,s.a.createElement(Q.a,{padding:"checkbox"},s.a.createElement(ee.a,{indeterminate:i>0&&i<l,checked:l>0&&i===l,onChange:t,inputProps:{"aria-label":"select all desserts"}})),(console.log(b.getCurrentUser().roles),b.getCurrentUser().roles.includes("ROLE_ADMIN")?Ct.slice().concat([{id:"action_create",numeric:!1,disablePadding:!0,label:"Create"},{id:"action_update",numeric:!1,disablePadding:!0,label:"Update"},{id:"action_delete",numeric:!1,disablePadding:!0,label:"Delete"}]):Ct).map((function(e){return s.a.createElement(Q.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a},s.a.createElement(G.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(t=e.id,function(e){r(e,t)})},e.label));var t}))))}var St=Object(V.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(M.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),kt=function(e){var t=St(),a=e.numSelected;e.selectedList;return s.a.createElement(Z.a,{className:Object(_.a)(t.root,Object(z.a)({},t.highlight,a>0))},a>0?s.a.createElement(K.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div"},a," selected"):s.a.createElement(K.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div"},"Qualifications"))},Ot=Object(V.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),Dt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleRequestSort=function(e,t){var a=n.state.orderBy===t&&"asc"===n.state.order;n.setState({order:a?"desc":"asc"}),n.setState({orderBy:t})},n.handleSelectAllClick=function(e){e.target.checked?n.setState({selected:n.state.rows.map((function(e){return e.name}))}):n.setState({selected:[]})},n.handleClick=function(e,t){var a=n.state.selected.indexOf(t),s=[];-1===a?s=s.concat(n.state.selected,t):0===a?s=s.concat(n.state.selected.slice(1)):a===n.state.selected.length-1?s=s.concat(n.state.selected.slice(0,-1)):a>0&&(s=s.concat(n.state.selected.slice(0,a),n.state.selected.slice(a+1))),console.log(s),n.setState({selected:s})},n.handleChangePage=function(e,t){n.fetchDataFromApi(t,n.state.rowsPerPage),n.setState({page:t})},n.handleChangeRowsPerPage=function(e){var t=parseInt(e.target.value,10);t>n.state.size&&(t=n.state.size,n.setState({page:0})),n.setState({rowsPerPage:t}),n.fetchDataFromApi(0,t)},n.handleChangeDense=function(e){n.setState({dense:e.target.checked})},n.isSelected=function(e){return-1!==n.state.selected.indexOf(e)},n.handleDelete=function(e,t){console.log(t),e.preventDefault(),bt.deleteById(t).then((function(e){return alert("Qualification deleted!")})).catch((function(e){if(e.response){var t="";console.log(e.response.data.violations.length);for(var a=0;a<e.response.data.violations.length;a++)t=t.concat("File id: "+e.response.data.violations[a].id).concat(", ").concat("File title: "+e.response.data.violations[a].title).concat(".\n");alert(e.response.data.message.toString().concat(": Related files exist!")+"\n"+t)}}))},n.state={rows:[],order:"asc",orderBy:"id",selected:[],page:0,dense:!1,rowsPerPage:5,classes:Ot,size:0,floatingButtonStyle:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed"}},n}return Object(c.a)(a,[{key:"fetchDataFromApi",value:function(e,t){var a=this;function n(e){for(var t,a=[],n=0;n<e.length;n++)t=vt(e[n].id,e[n].type,e[n].description,e[n].archivizeAfterResponse,e[n].canBeDeleted),console.log(t),a.push(t);return console.log(a),a}bt.getAllWithPagination(e,t).then((function(e){return a.setState({rows:n(e.data)})}))}},{key:"fetchLanguagesCountFromAp",value:function(){var e=this;bt.getCount().then((function(t){console.log(t.data.count),e.setState({size:t.data.count})}))}},{key:"componentDidMount",value:function(){this.fetchLanguagesCountFromAp(),this.fetchDataFromApi(this.state.page,this.state.rowsPerPage)}},{key:"formatYesNo",value:function(e){return e?s.a.createElement(oe.a,null):s.a.createElement(ce.a,null)}},{key:"render",value:function(){var e,t,a=this;return s.a.createElement("div",{className:this.state.classes.root},s.a.createElement(X.a,{className:this.state.classes.paper},s.a.createElement(kt,{numSelected:this.state.selected.length,selectedList:this.state.selected}),s.a.createElement(H.a,null,s.a.createElement(W.a,{className:this.state.classes.table,"aria-labelledby":"tableTitle",size:this.state.dense?"small":"medium","aria-label":"enhanced table"},s.a.createElement(yt,{classes:this.state.classes,numSelected:this.state.selected.length,order:this.state.order,orderBy:this.state.orderBy,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:this.state.rows.length}),s.a.createElement(T.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(this.state.rows,(e=this.state.order,t=this.state.orderBy,"desc"===e?function(e,a){return Et(e,a,t)}:function(e,a){return-Et(e,a,t)})).map((function(e,t){var n=a.isSelected(e.id),i="enhanced-table-checkbox-".concat(t);return s.a.createElement($.a,{hover:!0,onClick:function(t){return a.handleClick(t,e.id)},role:"checkbox","aria-checked":n,tabIndex:-1,key:e.id,selected:n},s.a.createElement(Q.a,{padding:"checkbox"},s.a.createElement(ee.a,{checked:n,inputProps:{"aria-labelledby":i}})),s.a.createElement(Q.a,{component:"th",id:i,scope:"row",padding:"none"},e.id),s.a.createElement(Q.a,{align:"left"},e.type),s.a.createElement(Q.a,{align:"left"},e.description),s.a.createElement(Q.a,{align:"left"},e.archivizeAfterAsString),s.a.createElement(Q.a,{align:"left"},a.formatYesNo(e.canBeDeleted)),b.getCurrentUser().roles.includes("ROLE_ADMIN")?s.a.createElement(Q.a,{align:"left"}," ",s.a.createElement("a",{href:"/qualification/"},s.a.createElement(st.a,null))):null,b.getCurrentUser().roles.includes("ROLE_ADMIN")?s.a.createElement(Q.a,{align:"left"}," ",s.a.createElement("a",{href:"/qualification/".concat(e.id)},s.a.createElement(ue.a,null))):null,b.getCurrentUser().roles.includes("ROLE_ADMIN")?s.a.createElement(Q.a,null,s.a.createElement(ge.a,{onClick:function(t){return a.handleDelete(t,e.id)}})):null)}))))),s.a.createElement(Y.a,{rowsPerPageOptions:[5,10,25,this.state.size].sort((function(e,t){return e-t})),component:"div",count:this.state.size,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})),s.a.createElement(ne.a,{control:s.a.createElement(se.a,{checked:this.state.dense,onChange:this.handleChangeDense}),label:"Dense padding"}),s.a.createElement("div",{onClick:function(){return console.log("speed A")},style:this.state.floatingButtonStyle},s.a.createElement(Fe.a,{color:"secondary","aria-label":"Create",style:this.state.floatingButtonStyle,onClick:this.createButtonAction.bind(this)},s.a.createElement(st.a,null))))}},{key:"createButtonAction",value:function(){var e=document.createElement("a");e.href="/qualification/",e.click()}}]),a}(n.Component),wt=a(173),jt=a.n(wt),At=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).typeOnChange=function(e){var t=Object(F.a)(Object(F.a)({},n.state.usersDetails),{},{type:e});n.setState({usersDetails:t},(function(){console.log(this.state.usersDetails)}))},n.descriptionOnChange=function(e){var t=Object(F.a)(Object(F.a)({},n.state.usersDetails),{},{description:e});n.setState({usersDetails:t},(function(){console.log(this.state.usersDetails)}))},n.dayOnChange=function(e){console.log(e);var t=Object(F.a)(Object(F.a)({},n.state.archivizeAfter),{},{day:e});n.setState({archivizeAfter:t},(function(){console.log(this.state)}))},n.monthOnChange=function(e){console.log(e);var t=Object(F.a)(Object(F.a)({},n.state.archivizeAfter),{},{month:e});n.setState({archivizeAfter:t},(function(){console.log(this.state)}))},n.yearOnChange=function(e){console.log(e);var t=Object(F.a)(Object(F.a)({},n.state.archivizeAfter),{},{year:e});n.setState({archivizeAfter:t},(function(){console.log(this.state)}))},n.canBeDeletedOnChange=function(e){var t=Object(F.a)(Object(F.a)({},n.state.usersDetails),{},{canBeDeleted:e});n.setState({usersDetails:t},(function(){console.log(this.state.usersDetails)}))},n.state={id:e.id,usersDetails:null,loaded:!1,roles:[],validationSchema:{type:qe.c().required(),description:qe.c(),canBeDeleted:qe.a(),day:qe.b().integer().min(0),month:qe.b().integer().min(0),year:qe.b().integer().min(0)},floatingButtonStyle:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed"},subSites:[{href:"/qualifications",name:"Qualifications",icon:s.a.createElement(jt.a,null)}]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.fetchObjectFromApi()}},{key:"fetchObjectFromApi",value:function(){var e=Object(Oe.a)(ke.a.mark((function e(){var t=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bt.get(this.props.id).then((function(e){console.log(e.data.archivizeAfterResponse),t.setState({usersDetails:e.data,loaded:!0,archivizeAfter:e.data.archivizeAfterResponse})}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleUpdateClick",value:function(e){e.preventDefault();var t=null;this.state.usersDetails.canBeDeleted&&(t={day:this.state.archivizeAfter.day,month:this.state.archivizeAfter.month,year:this.state.archivizeAfter.year});var a={type:this.state.usersDetails.type,description:this.state.usersDetails.description,archivizeAfterRequest:t,canBeDeleted:this.state.usersDetails.canBeDeleted};bt.update(this.state.usersDetails.id,a).then((function(e){return alert("User update!")})).catch((function(e){e.response&&(alert(e.response.data),console.log(e.response.data))}))}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.loaded?s.a.createElement("div",{style:{minHeight:"90vh"}},s.a.createElement(Ye,{subSites:this.state.subSites,actualSiteName:"Edit language details",actualSiteIcon:s.a.createElement(Ze.a,null)}),s.a.createElement(Ae.a,{alignItems:"center",container:!0,direction:"column",style:{backgroundColor:"#f2f2f2"}},s.a.createElement(Ae.a,{item:!0,xs:12,alignItems:"center"},s.a.createElement(K.a,{variant:"subtitle1",gutterBottom:!0,style:{color:"#266eb6"}},"Information about language"),s.a.createElement(Ie.a,null),s.a.createElement(Le,{name:"description",label:"Description",required:!1,defaultValue:this.state.usersDetails.description,validationSchema:this.state.validationSchema.description,parentCallback:this.descriptionOnChange}),s.a.createElement(Le,{name:"type",label:"type",required:!0,defaultValue:this.state.usersDetails.type,validationSchema:this.state.validationSchema.type,parentCallback:this.typeOnChange}),s.a.createElement(We,{name:"canBeDeleted",label:"Can be deleted?",checked:this.state.usersDetails.canBeDeleted,disabled:!1,validationSchema:this.state.validationSchema.canBeDeleted,parentCallback:this.canBeDeletedOnChange}),this.state.usersDetails.canBeDeleted?s.a.createElement("div",null,"Archivizer after(time after which the file will be deleted)",s.a.createElement(Le,{name:"day",label:"day",required:!0,defaultValue:this.state.archivizeAfter.day,validationSchema:this.state.validationSchema.day,parentCallback:this.dayOnChange}),s.a.createElement(Le,{name:"month",label:"month",required:!0,defaultValue:this.state.archivizeAfter.month,validationSchema:this.state.validationSchema.month,parentCallback:this.monthOnChange}),s.a.createElement(Le,{name:"year",label:"year",required:!0,defaultValue:this.state.archivizeAfter.year,validationSchema:this.state.validationSchema.year,parentCallback:this.yearOnChange})):null)),s.a.createElement("div",{onClick:function(){return console.log("speed A")},style:this.state.floatingButtonStyle},s.a.createElement(Fe.a,{color:"secondary","aria-label":"edit",style:this.state.floatingButtonStyle,onClick:this.handleUpdateClick.bind(this)},s.a.createElement(_e.a,null)))):null)}}]),a}(n.Component),Nt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).typeOnChange=function(e){var t=Object(F.a)(Object(F.a)({},n.state.usersDetails),{},{type:e});n.setState({usersDetails:t},(function(){console.log(this.state.usersDetails)}))},n.descriptionOnChange=function(e){var t=Object(F.a)(Object(F.a)({},n.state.usersDetails),{},{description:e});n.setState({usersDetails:t},(function(){console.log(this.state.usersDetails)}))},n.dayOnChange=function(e){console.log(e);var t=Object(F.a)(Object(F.a)({},n.state.archivizeAfter),{},{day:e});n.setState({archivizeAfter:t},(function(){console.log(this.state)}))},n.monthOnChange=function(e){console.log(e);var t=Object(F.a)(Object(F.a)({},n.state.archivizeAfter),{},{month:e});n.setState({archivizeAfter:t},(function(){console.log(this.state)}))},n.yearOnChange=function(e){console.log(e);var t=Object(F.a)(Object(F.a)({},n.state.archivizeAfter),{},{year:e});n.setState({archivizeAfter:t},(function(){console.log(this.state)}))},n.canBeDeletedOnChange=function(e){var t=Object(F.a)(Object(F.a)({},n.state),{},{canBeDeleted:e});n.setState(t,(function(){console.log(this.state)}))},n.state={id:e.id,loaded:!0,usersDetails:{type:null,description:null,archivizeAfterRequest:null,canBeDeleted:null},canBeDeleted:!1,roles:[],validationSchema:{type:qe.c().required(),description:qe.c(),canBeDeleted:qe.a(),day:qe.b().integer().typeError("must be a number").min(0),month:qe.b().integer().typeError("must be a number").min(0),year:qe.b().integer().typeError("must be a number").min(0)},floatingButtonStyle:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed"},subSites:[{href:"/qualifications",name:"Qualifications",icon:s.a.createElement(jt.a,null)}]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"fetchObjectFromApi",value:function(){var e=Object(Oe.a)(ke.a.mark((function e(){var t=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bt.get(this.props.id).then((function(e){console.log(e.data.archivizeAfterResponse),t.setState({usersDetails:e.data,loaded:!0,archivizeAfter:e.data.archivizeAfterResponse})}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleUpdateClick",value:function(e){e.preventDefault();var t=null;this.state.canBeDeleted&&(t={day:this.state.archivizeAfter.day,month:this.state.archivizeAfter.month,year:this.state.archivizeAfter.year});var a={type:this.state.usersDetails.type,description:this.state.usersDetails.description,archivizeAfterRequest:t,canBeDeleted:this.state.canBeDeleted};bt.create(a).then((function(e){return alert("Qualification created!")})).catch((function(e){e.response&&(alert(e.response.data),console.log(e.response.data))}))}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.loaded?s.a.createElement("div",{style:{minHeight:"90vh"}},s.a.createElement(Ye,{subSites:this.state.subSites,actualSiteName:"Create qualification",actualSiteIcon:s.a.createElement(Ze.a,null)}),s.a.createElement(Ae.a,{alignItems:"center",container:!0,direction:"column",style:{backgroundColor:"#f2f2f2"}},s.a.createElement(Ae.a,{item:!0,xs:12,alignItems:"center"},s.a.createElement(K.a,{variant:"subtitle1",gutterBottom:!0,style:{color:"#266eb6"}},"Create qualification"),s.a.createElement(Ie.a,null),s.a.createElement(Le,{name:"description",label:"Description",required:!1,defaultValue:"",validationSchema:this.state.validationSchema.description,parentCallback:this.descriptionOnChange}),s.a.createElement(Le,{name:"type",label:"type",required:!0,defaultValue:"",validationSchema:this.state.validationSchema.type,parentCallback:this.typeOnChange}),s.a.createElement(We,{name:"canBeDeleted",label:"Can be deleted?",checked:this.state.canBeDeleted,disabled:!1,validationSchema:this.state.validationSchema.canBeDeleted,parentCallback:this.canBeDeletedOnChange}),this.state.canBeDeleted?s.a.createElement("div",null,"Delete after(time after which the file will be deleted)",s.a.createElement(Le,{name:"day",label:"Days",required:!0,defaultValue:"Days",validationSchema:this.state.validationSchema.day,parentCallback:this.dayOnChange}),s.a.createElement(Le,{name:"month",label:"Month",required:!0,defaultValue:"Months",validationSchema:this.state.validationSchema.month,parentCallback:this.monthOnChange}),s.a.createElement(Le,{name:"year",label:"Year",required:!0,defaultValue:"Years",validationSchema:this.state.validationSchema.year,parentCallback:this.yearOnChange})):null)),s.a.createElement("div",{onClick:function(){return console.log("speed A")},style:this.state.floatingButtonStyle},s.a.createElement(Fe.a,{color:"secondary","aria-label":"edit",style:this.state.floatingButtonStyle,onClick:this.handleUpdateClick.bind(this)},s.a.createElement(_e.a,null)))):null)}}]),a}(n.Component),Pt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).codeOnChange=function(e){var t=Object(F.a)(Object(F.a)({},n.state.usersDetails),{},{code:e});n.setState({usersDetails:t},(function(){console.log(this.state.usersDetails)}))},n.nameOnChange=function(e){var t=Object(F.a)(Object(F.a)({},n.state.usersDetails),{},{name:e});n.setState({usersDetails:t},(function(){console.log(this.state.usersDetails)}))},n.state={id:e.id,loaded:!0,usersDetails:{code:null,name:null},canBeDeleted:!1,roles:[],validationSchema:{code:qe.c().required(),name:qe.c()},floatingButtonStyle:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed"},subSites:[{href:"/languages",name:"Languages",icon:s.a.createElement(ft.a,null)}]},n}return Object(c.a)(a,[{key:"handleUpdateClick",value:function(e){e.preventDefault();var t={name:this.state.usersDetails.name,code:this.state.usersDetails.code};mt.create(t).then((function(e){return alert("Qualification created!")})).catch((function(e){e.response&&(alert(e.response.data),console.log(e.response.data))}))}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.loaded?s.a.createElement("div",{style:{minHeight:"90vh"}},s.a.createElement(Ye,{subSites:this.state.subSites,actualSiteName:"Edit language details",actualSiteIcon:s.a.createElement(Ze.a,null)}),s.a.createElement(Ae.a,{alignItems:"center",container:!0,direction:"column",style:{backgroundColor:"#f2f2f2"}},s.a.createElement(Ae.a,{item:!0,xs:12,alignItems:"center"},s.a.createElement(K.a,{variant:"subtitle1",gutterBottom:!0,style:{color:"#266eb6"}},"Information about language"),s.a.createElement(Ie.a,null),s.a.createElement(Le,{name:"code",label:"code",required:!1,defaultValue:"",validationSchema:this.state.validationSchema.code,parentCallback:this.codeOnChange}),s.a.createElement(Le,{name:"name",label:"name",required:!0,defaultValue:"",validationSchema:this.state.validationSchema.name,parentCallback:this.nameOnChange}))),s.a.createElement("div",{onClick:function(){return console.log("speed A")},style:this.state.floatingButtonStyle},s.a.createElement(Fe.a,{color:"secondary","aria-label":"edit",style:this.state.floatingButtonStyle,onClick:this.handleUpdateClick.bind(this)},s.a.createElement(_e.a,null)))):null)}}]),a}(n.Component),Rt=new(function(){function e(){Object(o.a)(this,e),this.SERVICE_URL="http://localhost:8080/api/files",this.config={headers:B()},this.user=JSON.parse(localStorage.getItem("user"))}return Object(c.a)(e,[{key:"getListCount",value:function(){return f.a.get(this.SERVICE_URL+"/count?roles="+this.user.roles.toString(),this.config)}},{key:"delete",value:function(e){return f.a.delete("http://localhost:8080/api/file/"+e,this.config)}},{key:"getAll",value:function(e,t){return console.log(this.roles),f.a.get(this.SERVICE_URL+"?pageNo="+e+"&pageSize="+t+"&roles="+this.user.roles.toString(),this.config)}}]),e}());function Ut(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var Bt=[{id:"id",numeric:!1,disablePadding:!0,label:"Id"},{id:"title",numeric:!1,disablePadding:!1,label:"Title"},{id:"format",numeric:!1,disablePadding:!1,label:"Format"},{id:"creator",numeric:!1,disablePadding:!1,label:"Creator"},{id:"action",numeric:!1,disablePadding:!0,label:"Create"},{id:"action",numeric:!1,disablePadding:!0,label:"Update"},{id:"action",numeric:!1,disablePadding:!0,label:"Delete"}];function xt(e){e.classes;var t=e.onSelectAllClick,a=e.order,n=e.orderBy,i=e.numSelected,l=e.rowCount,r=e.onRequestSort;return s.a.createElement(J.a,null,s.a.createElement($.a,null,s.a.createElement(Q.a,{padding:"checkbox"},s.a.createElement(ee.a,{indeterminate:i>0&&i<l,checked:l>0&&i===l,onChange:t,inputProps:{"aria-label":"select all desserts"}})),Bt.map((function(e){return s.a.createElement(Q.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a},s.a.createElement(G.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(t=e.id,function(e){r(e,t)})},e.label));var t}))))}var Lt=Object(V.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(M.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),qt=function(e){var t=Lt(),a=e.numSelected;e.selectedList;return s.a.createElement(Z.a,{className:Object(_.a)(t.root,Object(z.a)({},t.highlight,a>0))},a>0?s.a.createElement(K.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div"},a," selected"):s.a.createElement(K.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div"},"Files"))},It=Object(V.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),Ft=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleRequestSort=function(e,t){var a=n.state.orderBy===t&&"asc"===n.state.order;n.setState({order:a?"desc":"asc"}),n.setState({orderBy:t})},n.handleSelectAllClick=function(e){e.target.checked?n.setState({selected:n.state.rows.map((function(e){return e.name}))}):n.setState({selected:[]})},n.handleClick=function(e,t){var a=n.state.selected.indexOf(t),s=[];-1===a?s=s.concat(n.state.selected,t):0===a?s=s.concat(n.state.selected.slice(1)):a===n.state.selected.length-1?s=s.concat(n.state.selected.slice(0,-1)):a>0&&(s=s.concat(n.state.selected.slice(0,a),n.state.selected.slice(a+1))),console.log(s),n.setState({selected:s})},n.handleChangePage=function(e,t){n.fetchDataFromApi(t,n.state.rowsPerPage),n.setState({page:t})},n.handleChangeRowsPerPage=function(e){var t=parseInt(e.target.value,10);t>n.state.size&&(t=n.state.size,n.setState({page:0})),n.setState({rowsPerPage:t}),n.fetchDataFromApi(0,t)},n.handleChangeDense=function(e){n.setState({dense:e.target.checked})},n.isSelected=function(e){return-1!==n.state.selected.indexOf(e)},n.handleDelete=function(e,t){console.log(t),e.preventDefault(),Rt.delete(t).then((function(e){return alert("File deleted!")})).catch((function(e){if(e.response){var t="";console.log(e.response.data.violations.length);for(var a=0;a<e.response.data.violations.length;a++)t=t.concat("File id: "+e.response.data.violations[a].id).concat(", ").concat("File title: "+e.response.data.violations[a].title).concat(".\n");alert(e.response.data.message.toString().concat(": Related files exist!")+"\n"+t)}}))},n.state={rows:[],order:"asc",orderBy:"id",selected:[],page:0,dense:!1,rowsPerPage:5,classes:It,size:0,floatingButtonStyle:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed"}},n}return Object(c.a)(a,[{key:"fetchDataFromApi",value:function(e,t){var a=this;function n(e){for(var t,a,n,s,i,l=[],r=0;r<e.length;r++)a=e[r].id,n=e[r].creator,s=e[r].format,i=e[r].title,t={id:a,creator:n,format:s,title:i},l.push(t);return console.log(l),l}Rt.getAll(e,t).then((function(e){return a.setState({rows:n(e.data)})}))}},{key:"fetchCountFromAp",value:function(){var e=this;Rt.getListCount().then((function(t){console.log(t.data.count),e.setState({size:t.data.count})}))}},{key:"componentDidMount",value:function(){this.fetchCountFromAp(),this.fetchDataFromApi(this.state.page,this.state.rowsPerPage)}},{key:"formatYesNo",value:function(e){return e?s.a.createElement(oe.a,null):s.a.createElement(ce.a,null)}},{key:"createButtonAction",value:function(){var e=document.createElement("a");e.href="/file/",e.click()}},{key:"render",value:function(){var e,t,a=this;return s.a.createElement("div",{className:this.state.classes.root},s.a.createElement(X.a,{className:this.state.classes.paper},s.a.createElement(qt,{numSelected:this.state.selected.length,selectedList:this.state.selected}),s.a.createElement(H.a,null,s.a.createElement(W.a,{className:this.state.classes.table,"aria-labelledby":"tableTitle",size:this.state.dense?"small":"medium","aria-label":"enhanced table"},s.a.createElement(xt,{classes:this.state.classes,numSelected:this.state.selected.length,order:this.state.order,orderBy:this.state.orderBy,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:this.state.rows.length}),s.a.createElement(T.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(this.state.rows,(e=this.state.order,t=this.state.orderBy,"desc"===e?function(e,a){return Ut(e,a,t)}:function(e,a){return-Ut(e,a,t)})).map((function(e,t){var n=a.isSelected(e.id),i="enhanced-table-checkbox-".concat(t);return s.a.createElement($.a,{hover:!0,onClick:function(t){return a.handleClick(t,e.id)},role:"checkbox","aria-checked":n,tabIndex:-1,key:e.id,selected:n},s.a.createElement(Q.a,{padding:"checkbox"},s.a.createElement(ee.a,{checked:n,inputProps:{"aria-labelledby":i}})),s.a.createElement(Q.a,{component:"th",id:i,scope:"row",padding:"none"},e.id),s.a.createElement(Q.a,{align:"left"},e.title),s.a.createElement(Q.a,{align:"left"},e.format),s.a.createElement(Q.a,{align:"left"},e.creator),s.a.createElement(Q.a,{align:"left"}," ",s.a.createElement("a",{href:"/file/"},s.a.createElement(st.a,null))),s.a.createElement(Q.a,{align:"left"}," ",s.a.createElement("a",{href:"/file/".concat(e.id)},s.a.createElement(ue.a,null))),s.a.createElement(Q.a,null,s.a.createElement(ge.a,{onClick:function(t){return a.handleDelete(t,e.id)}})))}))))),s.a.createElement(Y.a,{rowsPerPageOptions:[5,10,25,this.state.size].sort((function(e,t){return e-t})),component:"div",count:this.state.size,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})),s.a.createElement(ne.a,{control:s.a.createElement(se.a,{checked:this.state.dense,onChange:this.handleChangeDense}),label:"Dense padding"}),s.a.createElement("div",{onClick:function(){return console.log("speed A")},style:this.state.floatingButtonStyle},s.a.createElement(Fe.a,{color:"secondary","aria-label":"Create",style:this.state.floatingButtonStyle,onClick:this.createButtonAction.bind(this)},s.a.createElement(st.a,null))))}}]),a}(n.Component),zt=a(174),_t=a.n(zt),Vt=a(81),Mt=a(687);function Wt(e){var t=s.a.useState(e.options[0]),a=Object(Vt.a)(t,2),n=a[0],i=a[1],l=s.a.useState(""),r=Object(Vt.a)(l,2),o=r[0],c=r[1];return s.a.createElement("div",null,s.a.createElement(Mt.a,{value:n,onChange:function(t,a){i(a),function(t){e.parentCallback(t)}(a)},inputValue:o,onInputChange:function(e,t){c(t)},getOptionLabel:e.optionLabel,ref:e.ref,options:e.options,style:{width:300},renderInput:function(t){return s.a.createElement(Ve.a,Object.assign({},t,{label:e.label,variant:"outlined"}))}}))}var Tt=a(308),Qt=a(685),Ht=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={open:!1,files:null!=e.file?e.file:[]},n}return Object(c.a)(a,[{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"handleSave",value:function(e){this.setState({files:e,open:!1}),this.props.parentCallback(e[0])}},{key:"handleOpen",value:function(){this.setState({open:!0})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(Qt.a,{variant:"contained",color:"primary",onClick:this.handleOpen.bind(this)},this.props.buttonText),s.a.createElement(Tt.a,{open:this.state.open,onSave:this.handleSave.bind(this),acceptedFiles:["text/plain","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-powerpoint","application/msword","image/jpeg","image/png","image/bmp","application/pdf"],showPreviews:!0,maxFileSize:5e6,onClose:this.handleClose.bind(this),filesLimit:1,submitButtonText:"add file"}))}}]),a}(n.Component),Jt=a(307),Yt=(a(617),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).sendBackData=function(e){n.setState({value:e}),n.props.parentCallback(e)},n.state={data:n.props.data,selected:[]},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(Ae.a,{item:!0,xs:8},s.a.createElement("h3",null,this.props.label),s.a.createElement(Jt.Multiselect,{data:this.state.data,onChange:function(t){return e.sendBackData(t)},valueField:"id",textField:this.props.textField,style:{width:300},defaultValue:this.props.selected})))}}]),a}(n.Component)),$t=new(function(){function e(){Object(o.a)(this,e),this.SERVICE_URL="http://localhost:8080/api/file",this.config={headers:B()}}return Object(c.a)(e,[{key:"get",value:function(e){return f.a.get(this.SERVICE_URL+"/"+e,this.config)}},{key:"update",value:function(e,t){return f.a.post(this.SERVICE_URL+"/"+e,t)}},{key:"create",value:function(e){return f.a.post(this.SERVICE_URL,e)}}]),e}()),Gt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).codeOnChange=function(e){var t=Object(F.a)(Object(F.a)({},n.state.usersDetails),{},{code:e});n.setState({usersDetails:t},(function(){console.log(this.state.usersDetails)}))},n.nameOnChange=function(e){var t=Object(F.a)(Object(F.a)({},n.state.usersDetails),{},{name:e});n.setState({usersDetails:t},(function(){console.log(this.state.usersDetails)}))},n.languageOnChange=function(e){n.setState({language:e},(function(){console.log(this.state)}))},n.qualificationOnChange=function(e){n.setState({qualification:e},(function(){console.log(this.state)}))},n.rolesOnChange=function(e){n.setState({selectedRoles:e},(function(){console.log(this.state)}))},n.descriptionOnChange=function(e){n.setState({description:e},(function(){console.log(this.state)}))},n.typeOnChange=function(e){n.setState({type:e},(function(){console.log(this.state)}))},n.formatOnChange=function(e){n.setState({format:e},(function(){console.log(this.state)}))},n.usersOnChange=function(e){n.setState({selectedUsers:e},(function(){console.log(this.state)}))},n.imageOnSave=function(e){var t=new FileReader;n.state.file=e,n.state.format=e.name.split(".")[1],n.state.type=e.type,n.state.title=e.name.split(".")[0],console.log(n.state),t.readAsDataURL(e),t.onload=function(){return n.setState({fileAsBase64:t.result.split(";base64,")[1]})}},n.imageOnSave=n.imageOnSave.bind(Object(u.a)(n)),n.state={id:e.id,loaded:!1,usersDetails:{code:null,name:null},qualifications:[],languages:[],roles:[],selectedRoles:[],canBeDeleted:!1,validationSchema:{format:qe.c().required(),type:qe.c().required(),title:qe.c().required(),description:qe.c().required()},floatingButtonStyle:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed"},fileAsBase64:"",subSites:[{href:"/files",name:"Files",icon:s.a.createElement(_t.a,null)}]},n}return Object(c.a)(a,[{key:"fetchQualificationWithoutPagination",value:function(){var e=this;bt.getQualificationWithoutPagination().then((function(t){console.log(t.data),e.setState({qualifications:t.data,qualification:t.data[0],loaded:!0})}))}},{key:"fetchLanguagesWithoutPagination",value:function(){var e=this;at.getLanguagesWithoutPagination().then((function(t){console.log(t.data),e.setState({languages:t.data,language:t.data[0],loaded:!0})}))}},{key:"fetchRolesFromApi",value:function(){var e=this;De.getRoles().then((function(t){console.log(t.data),e.setState({roles:t.data.roles,loaded:!0})}))}},{key:"fetchUsersFromApi",value:function(){var e=this;re.getUsersWithoutPagination().then((function(t){console.log(t.data),e.setState({users:t.data,loaded:!0})}))}},{key:"componentDidMount",value:function(){this.fetchQualificationWithoutPagination(),this.fetchLanguagesWithoutPagination(),this.fetchRolesFromApi(),this.fetchUsersFromApi()}},{key:"handleUpdateClick",value:function(e){e.preventDefault();var t={creatorId:JSON.parse(localStorage.getItem("user")).id,format:this.state.format,type:this.state.type,title:this.state.title,description:this.state.description,file:this.state.fileAsBase64,qualificationId:this.state.qualification.id,languageId:this.state.language.id,rolesWithAccessId:this.state.selectedRoles.map((function(e){return e.id})),usersWithAccess:this.state.selectedUsers.map((function(e){return e.id}))};$t.create(t).then((function(e){return alert("File created!")})).catch((function(e){e.response&&(alert(e.response.data),console.log(e.response.data))}))}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.loaded?s.a.createElement("div",{style:{minHeight:"90vh"}},s.a.createElement(Ye,{subSites:this.state.subSites,actualSiteName:"Create file",actualSiteIcon:s.a.createElement(Ze.a,null)}),s.a.createElement(Ae.a,{alignItems:"center",container:!0,direction:"column",style:{backgroundColor:"#f2f2f2"}},s.a.createElement(Ae.a,{item:!0,xs:12,alignItems:"center"},""===this.state.fileAsBase64?s.a.createElement("div",null,s.a.createElement(K.a,{variant:"subtitle1",gutterBottom:!0,style:{color:"#266eb6"}},"Add file"),s.a.createElement(Ht,{parentCallback:this.imageOnSave,buttonText:"Add file"})):null,s.a.createElement(Ie.a,null),""!==this.state.fileAsBase64?s.a.createElement("div",null,s.a.createElement(Le,{name:"title",label:"Title",required:!0,defaultValue:this.state.title,validationSchema:this.state.validationSchema.title,parentCallback:this.nameOnChange}),s.a.createElement(Le,{name:"format",label:"Format",required:!1,defaultValue:this.state.format,validationSchema:this.state.validationSchema.format,parentCallback:this.formatOnChange,disabled:"disabled"}),s.a.createElement(Le,{name:"type",label:"Type",required:!0,defaultValue:this.state.type,validationSchema:this.state.validationSchema.type,parentCallback:this.typeOnChange,disabled:"disabled"}),s.a.createElement(Le,{name:"description",label:"Description",required:!0,defaultValue:"",validationSchema:this.state.validationSchema.description,parentCallback:this.descriptionOnChange}),s.a.createElement(Wt,{options:this.state.qualifications,parentCallback:this.qualificationOnChange,label:"Qualification",optionLabel:function(e){return e.type}}),s.a.createElement(Wt,{options:this.state.languages,parentCallback:this.languageOnChange,label:"Language",optionLabel:function(e){return e.name}}),s.a.createElement(Yt,{parentCallback:this.rolesOnChange,data:this.state.roles,textField:"name",label:"Select roles"}),s.a.createElement(Yt,{parentCallback:this.usersOnChange,data:this.state.users,textField:"creator",label:"Select users"})):null)),s.a.createElement("div",{onClick:function(){return console.log("speed A")},style:this.state.floatingButtonStyle},s.a.createElement(Fe.a,{color:"secondary","aria-label":"edit",style:this.state.floatingButtonStyle,onClick:this.handleUpdateClick.bind(this)},s.a.createElement(_e.a,null)))):null)}}]),a}(n.Component),Zt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).codeOnChange=function(e){var t=Object(F.a)(Object(F.a)({},n.state.usersDetails),{},{code:e});n.setState({usersDetails:t},(function(){console.log(this.state.usersDetails)}))},n.nameOnChange=function(e){var t=Object(F.a)(Object(F.a)({},n.state.usersDetails),{},{name:e});n.setState({usersDetails:t},(function(){console.log(this.state.usersDetails)}))},n.languageOnChange=function(e){n.setState({language:e},(function(){console.log(this.state)}))},n.qualificationOnChange=function(e){n.setState({qualification:e},(function(){console.log(this.state)}))},n.rolesOnChange=function(e){n.setState({rolesWithAccess:e},(function(){console.log(this.state)}))},n.descriptionOnChange=function(e){n.setState({description:e},(function(){console.log(this.state)}))},n.typeOnChange=function(e){n.setState({type:e},(function(){console.log(this.state)}))},n.formatOnChange=function(e){n.setState({format:e},(function(){console.log(this.state)}))},n.usersOnChange=function(e){n.setState({selectedUsers:e},(function(){console.log(this.state)}))},n.imageOnSave=function(e){n.setState({loaded:!1});var t=new FileReader,a=null;t.readAsDataURL(e),t.onload=function(){a=t.result.split(";base64,")[1];var s={creatorId:JSON.parse(localStorage.getItem("user")).id,format:e.name.split(".")[1],type:e.type,title:e.name.split(".")[0],description:n.state.description,file:a,qualificationId:n.state.qualification.id,languageId:n.state.language.id,rolesWithAccessId:n.state.rolesWithAccess.map((function(e){return e.id})),usersWithAccess:n.state.selectedUsers.map((function(e){return e.id}))};$t.update(n.props.id,s).then(window.location.reload(!0)).catch((function(e){e.response&&(alert(e.response.data),console.log(e.response.data))}))}},n.downloadFile=function(e){var t=n.state.type,a=n.state.title,s="data:"+t+";base64,"+e,i=document.createElement("a");i.href=s,i.download=a,i.click()},n.imageOnSave=n.imageOnSave.bind(Object(u.a)(n)),n.state={id:e.id,qualificationLoaded:!1,rolesLoaded:!1,languagesLoaded:!1,usersLoaded:!1,loaded:!1,usersDetails:{code:null,name:null},qualifications:[],languages:[],roles:[],rolesWithAccess:[],canBeDeleted:!1,validationSchema:{format:qe.c().required(),type:qe.c().required(),title:qe.c().required(),description:qe.c().required()},floatingButtonStyle:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed"},fileAsBase64:"",subSites:[{href:"/files",name:"Files",icon:s.a.createElement(_t.a,null)}]},n}return Object(c.a)(a,[{key:"fetchQualificationWithoutPagination",value:function(){var e=this;bt.getQualificationWithoutPagination().then((function(t){console.log(t.data),e.setState({qualifications:t.data,qualificationLoaded:!0})}))}},{key:"fetchLanguagesWithoutPagination",value:function(){var e=this;at.getLanguagesWithoutPagination().then((function(t){console.log(t.data),e.setState({languages:t.data,languagesLoaded:!0})}))}},{key:"fetchRolesFromApi",value:function(){var e=this;De.getRoles().then((function(t){console.log(t.data),e.setState({roles:t.data.roles,rolesLoaded:!0})}))}},{key:"fetchUsersFromApi",value:function(){var e=this;re.getUsersWithoutPagination().then((function(t){console.log(t.data),e.setState({users:t.data,usersLoaded:!0})}))}},{key:"componentDidMount",value:function(){this.fetchObjectFromApi(),this.fetchQualificationWithoutPagination(),this.fetchLanguagesWithoutPagination(),this.fetchRolesFromApi(),this.fetchUsersFromApi()}},{key:"fetchObjectFromApi",value:function(){var e=this;$t.get(this.props.id).then((function(t){console.log(t.data),e.setState({format:t.data.format,type:t.data.type,title:t.data.title,description:t.data.description,fileAsBase64:t.data.file,qualification:t.data.qualification,language:t.data.language,rolesWithAccess:t.data.rolesWithAccess.roles,selectedUsers:t.data.usersWithAccess,loaded:!0})}))}},{key:"handleUpdateClick",value:function(e){e.preventDefault();var t={creatorId:JSON.parse(localStorage.getItem("user")).id,format:this.state.format,type:this.state.type,title:this.state.title,description:this.state.description,file:this.state.fileAsBase64,qualificationId:this.state.qualification.id,languageId:this.state.language.id,rolesWithAccessId:this.state.rolesWithAccess.map((function(e){return e.id})),usersWithAccess:this.state.selectedUsers.map((function(e){return e.id}))};$t.update(this.props.id,t).then((function(e){return alert("File created!")})).catch((function(e){e.response&&(alert(e.response.data),console.log(e.response.data))}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,this.state.loaded&&null!=this.state.users?s.a.createElement("div",{style:{minHeight:"90vh"}},s.a.createElement(Ye,{subSites:this.state.subSites,actualSiteName:"Create file",actualSiteIcon:s.a.createElement(Ze.a,null)}),s.a.createElement(Ae.a,{alignItems:"center",container:!0,direction:"column",style:{backgroundColor:"#f2f2f2"}},s.a.createElement(Ae.a,{item:!0,xs:12,alignItems:"center"},!0===this.state.qualificationLoaded&&!0===this.state.rolesLoaded&&!0===this.state.languagesLoaded&&!0===this.state.usersLoaded&&!0===this.state.loaded?s.a.createElement("div",null,s.a.createElement(Qt.a,{variant:"contained",color:"primary",onClick:function(){return e.downloadFile(e.state.fileAsBase64)}},"Download file "),s.a.createElement(K.a,{variant:"subtitle1",gutterBottom:!0,style:{color:"#266eb6"}},"Change file"),s.a.createElement(Ht,{parentCallback:this.imageOnSave,buttonText:"Change file"})):null,s.a.createElement(Ie.a,null),s.a.createElement("div",null,s.a.createElement(Le,{name:"title",label:"Title",required:!0,defaultValue:this.state.title,validationSchema:this.state.validationSchema.title,parentCallback:this.nameOnChange}),s.a.createElement(Le,{name:"format",label:"Format",required:!1,defaultValue:this.state.format,validationSchema:this.state.validationSchema.format,parentCallback:this.formatOnChange,disabled:"disabled"}),s.a.createElement(Le,{name:"type",label:"Type",required:!0,defaultValue:this.state.type,validationSchema:this.state.validationSchema.type,parentCallback:this.typeOnChange,disabled:"disabled"}),s.a.createElement(Le,{name:"description",label:"Description",required:!0,defaultValue:this.state.description,validationSchema:this.state.validationSchema.description,parentCallback:this.descriptionOnChange}),s.a.createElement(Wt,{options:this.state.qualifications,parentCallback:this.qualificationOnChange,label:"Qualification",optionLabel:function(e){return e.type}}),s.a.createElement(Wt,{options:this.state.languages,parentCallback:this.languageOnChange,label:"Language",optionLabel:function(e){return e.name}}),s.a.createElement(Yt,{parentCallback:this.rolesOnChange,selected:this.state.rolesWithAccess,data:this.state.roles,textField:"name",label:"Select roles"}),s.a.createElement(Yt,{parentCallback:this.usersOnChange,selected:this.state.selectedUsers,data:this.state.users,textField:"creator",label:"Select users"})))),s.a.createElement("div",{onClick:function(){return console.log("speed A")},style:this.state.floatingButtonStyle},s.a.createElement(Fe.a,{color:"secondary","aria-label":"edit",style:this.state.floatingButtonStyle,onClick:this.handleUpdateClick.bind(this)},s.a.createElement(_e.a,null)))):s.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},s.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif"})))}}]),a}(n.Component),Kt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).logOut=n.logOut.bind(Object(u.a)(n)),n.state={showModeratorContent:!1,showAdminContent:!1,currentUser:void 0,showUserContent:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=b.getCurrentUser();e&&this.setState({currentUser:e,showUserContent:e.roles.includes("ROLE_USER"),showModeratorContent:e.roles.includes("ROLE_MODERATOR"),showAdminContent:e.roles.includes("ROLE_ADMIN")})}},{key:"logOut",value:function(){b.logout()}},{key:"render",value:function(){var e=this,t=this.state,a=t.currentUser,n=(t.showModeratorContent,t.showAdminContent),i=t.showUserContent;return s.a.createElement("div",null,s.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark"},s.a.createElement(r.b,{to:"/",className:"navbar-brand"},"Archivizer"),s.a.createElement("div",{className:"navbar-nav mr-auto"},n&&s.a.createElement("li",{className:"nav-item"},s.a.createElement(r.b,{to:"/users",className:"nav-link"},"Users")),n&&s.a.createElement("li",{className:"nav-item"},s.a.createElement(r.b,{to:"/swagger",className:"nav-link"},"Swagger")),i&&s.a.createElement("li",{className:"nav-item"},s.a.createElement(r.b,{to:"/languages",className:"nav-link"},"Languages")),i&&s.a.createElement("li",{className:"nav-item"},s.a.createElement(r.b,{to:"/qualifications",className:"nav-link"},"Qualifications")),i&&s.a.createElement("li",{className:"nav-item"},s.a.createElement(r.b,{to:"/files",className:"nav-link"},"Files"))),a?s.a.createElement("div",{className:"navbar-nav ml-auto"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(r.b,{to:"/profile",className:"nav-link"},a.username)),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{href:"/login",className:"nav-link",onClick:this.logOut},"LogOut"))):s.a.createElement("div",{className:"navbar-nav ml-auto"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(r.b,{to:"/login",className:"nav-link"},"Login")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(r.b,{to:"/register",className:"nav-link"},"Sign Up")))),s.a.createElement("div",null,s.a.createElement(m.d,null,s.a.createElement(m.b,{exact:!0,path:["/","/home"],component:q}),s.a.createElement(m.b,{exact:!0,path:"/login",component:D}),s.a.createElement(m.b,{exact:!0,path:"/register",component:U}),s.a.createElement(m.b,{exact:!0,path:"/profile",component:I}),s.a.createElement(m.b,{path:"/newUser",component:w}),s.a.createElement(m.b,{exact:!0,path:"/users/:id",component:function(t){return s.a.createElement(Ke,{id:t.match.params.id,showUserContent:e.state.showUserContent,showModeratorContent:e.state.showModeratorContent,showAdminContent:e.state.showAdminContent})}}),s.a.createElement(m.b,{exact:!0,path:"/languages/:id",component:function(t){return s.a.createElement(pt,{id:t.match.params.id,showUserContent:e.state.showUserContent,showModeratorContent:e.state.showModeratorContent,showAdminContent:e.state.showAdminContent})}}),s.a.createElement(m.b,{exact:!0,path:"/qualification/:id",component:function(e){return s.a.createElement(At,{id:e.match.params.id})}}),s.a.createElement(m.b,{exact:!0,path:"/qualification/",component:Nt}),s.a.createElement(m.b,{exact:!0,path:"/language/",component:Pt}),s.a.createElement(m.b,{exact:!0,path:"/users",component:ye}),s.a.createElement(m.b,{exact:!0,path:"/swagger",component:tt}),s.a.createElement(m.b,{exact:!0,path:"/languages",component:function(){return s.a.createElement(ht,{showUserContent:e.state.showUserContent,showModeratorContent:e.state.showModeratorContent,showAdminContent:e.state.showAdminContent})}}),s.a.createElement(m.b,{exact:!0,path:"/qualifications",component:Dt}),s.a.createElement(m.b,{exact:!0,path:"/files",component:Ft}),s.a.createElement(m.b,{exact:!0,path:"/file",component:Gt}),s.a.createElement(m.b,{exact:!0,path:"/file/:id",component:function(e){return s.a.createElement(Zt,{id:e.match.params.id})}}),s.a.createElement(m.b,{component:it}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(r.a,null,s.a.createElement(Kt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[326,1,2]]]);
//# sourceMappingURL=main.aed07aa6.chunk.js.map